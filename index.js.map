{"version":3,"file":"index.js","sources":["../src/js/render-tasks.js","../src/js/refs.js","../src/js/local-storage-api.js","../src/js/tasks.js","../src/js/theme-switcher.js","../src/main.js"],"sourcesContent":["import { refs } from './refs';\n\nexport default function renderTasks(tasksArray) {\n  refs.list.innerHTML = '';\n  const markup = tasksArray\n    .map((\n      task,\n      index) => `<li class=\"task-list-item\" data-index=\"${index}\">\n        <button class=\"task-list-item-btn\">Delete</button>\n        <h3>${task.title}</h3>\n        <p>${task.description}</p>\n      </li>`\n    )\n    .join('');\n  refs.list.insertAdjacentHTML('beforeend', markup);\n}\n","import renderTasks from './render-tasks';\n\nexport const refs = {\n  form: document.querySelector('.header-form'),\n  list: document.querySelector('.tasks-list'),\n\n  themeBtn: document.querySelector('.theme-toggle-button'),\n  container: document.querySelector('.header-container'),\n};\n","const STORAGE_KEY = 'tasks';\nconst THEME_KEY = 'theme';\n\nexport function loadTasks() {\n  return JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];\n}\n\nexport function saveTasks(tasks) {\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));\n}\n\nexport function saveTheme(theme) {\n  localStorage.setItem(THEME_KEY, theme);\n}\n\nexport function loadTheme() {\n  return localStorage.getItem(THEME_KEY) ?? 'light';\n}\n","import { loadTasks, saveTasks } from './local-storage-api';\n\nexport function addTask(task) {\n  const tasks = loadTasks();\n  tasks.push(task);\n  saveTasks(tasks);\n  return tasks;\n}\n\nexport function deleteTask(index) {\n  const tasks = loadTasks();\n  tasks.splice(index, 1);\n  saveTasks(tasks);\n  return tasks;\n}\n","// import { refs } from './refs';\n// import { saveTheme, loadTheme } from './local-storage-api';\n\n// initTheme();\n// refs.themeBtn.addEventListener('click', onThemeToggle);\n\n// function initTheme() {\n//   const theme = loadTheme();\n//   if (theme === 'dark') {\n//     refs.container.classList.add('dark');\n//   }\n// }\n\n// function onThemeToggle() {\n//   const isDark = refs.container.classList.toggle('dark');\n//   saveTheme(isDark ? 'dark' : 'light');\n// }\n\n// theme-switcher.js\nimport { saveTheme, loadTheme } from './local-storage-api';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const refs = {\n    themeBtn: document.querySelector('.theme-toggle-button'),\n    container: document.querySelector('.header'), // убедись, что класс совпадает\n  };\n\n  if (!refs.themeBtn || !refs.container) {\n    console.error('Не найден элемент кнопки или контейнера!');\n    return;\n  }\n\n  // === Инициализация темы при загрузке страницы ===\n  initTheme();\n\n  // === Слушатель кнопки ===\n  refs.themeBtn.addEventListener('click', onThemeToggle);\n\n  // Функция инициализации темы\n  function initTheme() {\n    const savedTheme = loadTheme(); // 'dark' или 'light'\n    if (savedTheme === 'dark') {\n      refs.container.classList.add('dark');\n    } else {\n      refs.container.classList.remove('dark');\n    }\n  }\n\n  // Функция переключения темы\n  function onThemeToggle() {\n    const isDark = refs.container.classList.toggle('dark');\n    const theme = isDark ? 'dark' : 'light';\n    saveTheme(theme); // сохраняем в localStorage\n  }\n});\n","import { refs } from './js/refs';\nimport { addTask, deleteTask } from './js/tasks';\nimport renderTasks from './js/render-tasks';\nimport { loadTasks } from './js/local-storage-api';\nimport './js/theme-switcher';\n// ⬇️ загрузка задач при старте\nrenderTasks(loadTasks());\n\nrefs.form.addEventListener('submit', handleSubmit);\nrefs.list.addEventListener('click', handleDelete);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n\n  const { taskName, taskDescription } = event.target.elements;\n\n  if (!taskName.value.trim() || !taskDescription.value.trim()) {\n    alert('Please fill in all the fields!');\n    return;\n  }\n\n  const task = {\n    title: taskName.value.trim(),\n    description: taskDescription.value.trim(),\n  };\n\n  const tasks = addTask(task);\n  renderTasks(tasks);\n  refs.form.reset();\n}\n\nfunction handleDelete(event) {\n  if (!event.target.classList.contains('task-list-item-btn')) return;\n\n  const index = event.target.closest('.task-list-item').dataset.index;\n  const tasks = deleteTask(index);\n  renderTasks(tasks);\n}\n"],"names":["renderTasks","tasksArray","refs","markup","task","index","STORAGE_KEY","THEME_KEY","loadTasks","saveTasks","tasks","saveTheme","theme","loadTheme","addTask","deleteTask","initTheme","onThemeToggle","handleSubmit","handleDelete","event","taskName","taskDescription"],"mappings":"ssBAEe,SAASA,EAAYC,EAAY,CAC9CC,EAAK,KAAK,UAAY,GACtB,MAAMC,EAASF,EACZ,IAAI,CACHG,EACAC,IAAU,0CAA0CA,CAAK;AAAA;AAAA,cAEjDD,EAAK,KAAK;AAAA,aACXA,EAAK,WAAW;AAAA,YAExB,EACA,KAAK,EAAE,EACVF,EAAK,KAAK,mBAAmB,YAAaC,CAAM,CAClD,CCbO,MAAMD,EAAO,CAClB,KAAM,SAAS,cAAc,cAAc,EAC3C,KAAM,SAAS,cAAc,aAAa,EAE1C,SAAU,SAAS,cAAc,sBAAsB,EACvD,UAAW,SAAS,cAAc,mBAAmB,CACvD,ECRMI,EAAc,QACdC,EAAY,QAEX,SAASC,GAAY,CAC1B,OAAO,KAAK,MAAM,aAAa,QAAQF,CAAW,CAAC,GAAK,EAC1D,CAEO,SAASG,EAAUC,EAAO,CAC/B,aAAa,QAAQJ,EAAa,KAAK,UAAUI,CAAK,CAAC,CACzD,CAEO,SAASC,EAAUC,EAAO,CAC/B,aAAa,QAAQL,EAAWK,CAAK,CACvC,CAEO,SAASC,GAAY,CAC1B,OAAO,aAAa,QAAQN,CAAS,GAAK,OAC5C,CCfO,SAASO,EAAQV,EAAM,CAC5B,MAAMM,EAAQF,IACd,OAAAE,EAAM,KAAKN,CAAI,EACfK,EAAUC,CAAK,EACRA,CACT,CAEO,SAASK,EAAWV,EAAO,CAChC,MAAMK,EAAQF,IACd,OAAAE,EAAM,OAAOL,EAAO,CAAC,EACrBI,EAAUC,CAAK,EACRA,CACT,CCOA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMR,EAAO,CACX,SAAU,SAAS,cAAc,sBAAsB,EACvD,UAAW,SAAS,cAAc,SAAS,CAC/C,EAEE,GAAI,CAACA,EAAK,UAAY,CAACA,EAAK,UAAW,CACrC,QAAQ,MAAM,0CAA0C,EACxD,MACD,CAGDc,IAGAd,EAAK,SAAS,iBAAiB,QAASe,CAAa,EAGrD,SAASD,GAAY,CACAH,MACA,OACjBX,EAAK,UAAU,UAAU,IAAI,MAAM,EAEnCA,EAAK,UAAU,UAAU,OAAO,MAAM,CAEzC,CAGD,SAASe,GAAgB,CAEvB,MAAML,EADSV,EAAK,UAAU,UAAU,OAAO,MAAM,EAC9B,OAAS,QAChCS,EAAUC,CAAK,CAChB,CACH,CAAC,EChDDZ,EAAYQ,EAAW,CAAA,EAEvBN,EAAK,KAAK,iBAAiB,SAAUgB,CAAY,EACjDhB,EAAK,KAAK,iBAAiB,QAASiB,CAAY,EAEhD,SAASD,EAAaE,EAAO,CAC3BA,EAAM,eAAc,EAEpB,KAAM,CAAE,SAAAC,EAAU,gBAAAC,CAAe,EAAKF,EAAM,OAAO,SAEnD,GAAI,CAACC,EAAS,MAAM,KAAI,GAAM,CAACC,EAAgB,MAAM,OAAQ,CAC3D,MAAM,gCAAgC,EACtC,MACD,CAED,MAAMlB,EAAO,CACX,MAAOiB,EAAS,MAAM,KAAM,EAC5B,YAAaC,EAAgB,MAAM,KAAM,CAC7C,EAEQZ,EAAQI,EAAQV,CAAI,EAC1BJ,EAAYU,CAAK,EACjBR,EAAK,KAAK,OACZ,CAEA,SAASiB,EAAaC,EAAO,CAC3B,GAAI,CAACA,EAAM,OAAO,UAAU,SAAS,oBAAoB,EAAG,OAE5D,MAAMf,EAAQe,EAAM,OAAO,QAAQ,iBAAiB,EAAE,QAAQ,MACxDV,EAAQK,EAAWV,CAAK,EAC9BL,EAAYU,CAAK,CACnB"}